<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>

<HEAD>
  <TITLE> Heart </TITLE>
  <META NAME="Generator" CONTENT="EditPlus">
  <META NAME="Author" CONTENT="">
  <META NAME="Keywords" CONTENT="">
  <META NAME="Description" CONTENT="">
  <meta content="width=device-width, initial-scale=1" name="viewport" />

  <link rel="stylesheet" href="./css/main.css">
  <link rel="stylesheet" href="./css/heart-bip.css">
  <link rel="stylesheet" href="./css/heart-switch.css">

  <!-- Thêm thư viện sha256.min.js từ CDN -->
  <script src="https://cdn.jsdelivr.net/npm/js-sha256@0.9.0/build/sha256.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

  <script src="./js/heart-bip.js"></script>
</HEAD>

<BODY>
  <!-- PART 1  -->

  <!-- <div id="myGifContainer" style="position: absolute; top: 40%;  pointer-events: none;">
    <iframe id="myGif" src="https://giphy.com/embed/vETeEioRsfFP3CJV16" width="200" height="400" 
      frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
  </div> -->


  <!-- <div style="position: absolute; top: 11%; text-align: center; font-size: 14px; visibility: hidden;"> -->

  <div class="main-container">
    <div style="position: absolute; top: 11%; text-align: center; font-size: 14px; ">
      <h2 id="txt-h2" class="txt-disappear" style="color: white; font-family: cursive;">
        <!-- Nhập mã xong click cái nút phía dưới đi ạ... -->
        Enter the code and click the button below...

      </h2>
      <input id="play-input" type="text" style="width: 40%; font-size: 30px;" /><br />

      <div style="font-size: 25px;">
        <p id="invalid-pass" style="color: white; visibility: hidden; padding-top: 15px">Nhập sai òi... </p>
        <div class="wrap" style="font-size: 45px; display: inline-block; padding: 15px; ">
          <div class="love" id="play-now" onclick="play()">
            <input id="switch" type="checkbox">
            <label class="love-heart" for="switch">
              <i class="left"></i>
              <i class="right"></i>
              <i class="bottom"></i>
              <div class="round"></div>
            </label>
          </div>
        </div>
      </div>
    </div>

    <!-- PART 2  -->
    <div id="hideMsg" style="color:white; position: relative; width: 100%; height: 80%; font-size: 3em; visibility: hidden;">
      <span style="position: absolute; top: 20%; left: 30%;">3</span>
      <img style="position: absolute; top: 26%; left: 50%;" src="./img/kingdom_of_tigers_07.png" width="300"
        height="300" />
    </div>

    <!-- PART 3  -->
    <audio id="audio" controls muted="true" style="opacity: 0; visibility: hidden;">
      <source src="HeartbeatNightcore-MarcusMartinus-4597640.mp3#t=00:01:01" type="audio/mpeg">
      Your browser does not support the audio tag.
    </audio>
    <div class="box" id="pinkboard-container" style="visibility: hidden; background-image: url('./img/4815368adacaf878ed0f9feedfa338bf.jpg');width: 100%;
      height: 74%; background-repeat: no-repeat; background-position: center;     background-size: contain;">
      <canvas id="pinkboard"></canvas>
      <div style="position: absolute; width: 100%; display: flex; justify-content: center;">
        <img src="./img/4815368adacaf878ed0f9feedfa338bf.jpg" width="200" height="200" />
        <img src="./img/4815368adacaf878ed0f9feedfa338bf.jpg" width="200" height="200" />
        <img src="./img/4815368adacaf878ed0f9feedfa338bf.jpg" width="200" height="200" />
      </div>

    </div>
  </div>

  <script>

    /*
   * Settings
   */
    function playNOW() {
      document.getElementById("play-now").click();
    }


    function play() {
      var val = document.getElementById('play-input').value;
      console.log('inputText: ' + val);
      var hash = sha256(val);
      console.log('SHA-256 Hash: ' + hash);
      if (hash == "728962325585d7e3fcfc28858fe166a66e656bf3b47eadb80354add06fd6b555") {
        document.getElementById("invalid-pass").style.visibility = "hidden";
      }
      else {
        $('#switch').prop('checked', false);
        document.getElementById("invalid-pass").style.visibility = "visible";
        return;
      }

      setTimeout(() => {
        document.getElementById("play-now").style.visibility = "hidden";

      }, 500);
      document.getElementById("play-input").style.visibility = "hidden";
      document.getElementById("txt-h2").classList.add("have");

      setTimeout(function () {
        var audio = document.getElementById("audio");
        audio.muted = false;
        audio.play();

        setTimeout(function () {
          document.getElementById("txt-h2").classList.remove("have");
          document.getElementById("txt-h2").innerHTML = "Đợi xí đợi xí...";
        }, 2000);

        setTimeout(function () {
          document.getElementById("txt-h2").innerHTML = "";

          document.getElementById("myGifContainer").style.visibility = "hidden";
        }, 5000);

        // COUNTDOWN
        setTimeout(function () {
          document.getElementById("hideMsg").style.visibility = "visible";
          var sec = 2;
          var timer = setInterval(function () {
            $('#hideMsg span').animate({
              opacity: 0.25,
              fontSize: '1.5em'
            }, 500, function () {
              $('#hideMsg span').css('opacity', 1);
              $('#hideMsg span').css('font-size', '1em');
              $('#hideMsg span').text(sec--);
            })

            if (sec == 0) {
              $('#hideMsg').fadeOut('fast');
              clearInterval(timer);
            }
          }, 1000);
        }, 5300);

        setTimeout(function () {
          document.getElementById("pinkboard-container").style.visibility = "visible";
        }, 9050);
      }, 300);
    }




    // COUNTDOWN
    // setTimeout(function () {
    //       document.getElementById("hideMsg").style.visibility = "visible";
    //       var sec = 2;
    //       var timer = setInterval(function () {
    //         $('#hideMsg span').animate({
    //           opacity: 0.25,
    //           fontSize: '1.8em'
    //         }, 500, function () {
    //           $('#hideMsg span').css('opacity', 1);
    //           $('#hideMsg span').css('font-size', '1em');
    //           $('#hideMsg span').text(sec--);
    //         })

    //         if (sec == 0) {
    //           $('#hideMsg').fadeOut('fast');
    //           clearInterval(timer);
    //         }
    //       }, 1000);
    //     }, 100);
  </script>

  <!-- <div class="center-text" , style="background-color:rgb(0, 0, 0);
        width: 100%;
        color: rgb(225, 12, 168);
        height:100%;
        font-size: 31px;
        font-style: italic;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 5px;
        text-align: center;"></div> -->
</BODY>

</HTML>